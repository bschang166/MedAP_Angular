
<section class="library-searchbar">
  <typeahead display-records="$ctrl.searchResults" on-change="$ctrl.onBookSearch($event)"></typeahead>
</section>

<section class="library-mainContent">

  <section class="library-bookCase">
    <section class="library-criteria">
      <div class="library-bookSorter">
        <label>Sort by: </label>
        <select ng-model="$ctrl.sortBy" ng-change="$ctrl.onBookSort($ctrl.sortBy)">
          <option ng-if="$ctrl.sortBy === ''" value=""></option>
          <option ng-repeat="attr in ::$ctrl.bookSortAttrs" value="{{attr.name}}"> {{ attr.label }} </option>
        </select>
      </div>

      <input type="checkbox" ng-model="$ctrl.isUppercaseTitle" ng-change="$ctrl.onToggleUppercase($ctrl.isUppercaseTitle)" />
      <label>Uppercase book titles</label>
    </section>

    <section class="library-books">
      <ul class="library-bookList" med-dnd-model="$ctrl.filteredBooks" med-dnd-type="move" med-dnd-on-drop="$ctrl.onDropBook($event)">
        <li ng-repeat="book in $ctrl.filteredBooks track by $index">
          <div class="library-bookList-book">
            <h3> {{ book.title }} </h3>
            <h4> {{ book.author }} </h4>
            <h4> {{ book.pubDate }} </h4>
          </div>
        </li>
      </ul>
    </section>
  </section>

  <section class="library-addBook">
    <add-book-form on-submit="$ctrl.addBook($event)"></add-book-form>
  </section>

</section>

